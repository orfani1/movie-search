<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>MovieInfo</title>
    <!--link Tags-->
    <link rel="stylesheet" href="https://bootswatch.com/3/darkly/bootstrap.min.css">
    <link rel="stylesheet" href="css/style.css">
  </head>
  <body>
    <!-- nav and navbar Tags -->
    <nav class="navbar navbar-default">
      <div class="container">
        <div class="navbar-header">
          <!--navbar logo -->
          <a class="navbar-brand" href="index.html">MovieInfo</a>
        </div>
        </div>
      </div>
    </nav>
    
    <div class="contain">
      <h5 class="text-center">Date & Time</h5>
      <p id="p1" class="text-center"></p>
      <p id="p2"class="text-center"></p>
    </div>

    <!--div Tags-->
    <div class="container">
    	<div class="jumbotron">
	    	<h3 class="text-center">Search For Any Movie</h3>
	    	<form id="searchForm">

          <!--input Tag-->
	    		<input type="text" class="form-control" id="searchText" placeholder="Search Movies...">
	    	</form>
	    </div>
    </div>

    <div class="container">
      <div id="movies" class="row"></div>
    </div>

    <!--local storage-->

    <form>
      <div class="formBox">
          <label for="title">Movie</label>
          <input type="text" id="title" placeholder="Title"/>
      </div>
      <div class="formBox">
          <label for="yr">Year</label>
          <input type="number" id="yr" placeholder="Year"/>
      </div>
      <div class="formBox">
          <button id="btn">Click to Add</button>
      </div>
      <div id="msg">
    
        <p></p>
        
      </div>
  </form>
    
  <!--End of local storage-->
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@9"></script>
</script>
    <script>
      let movies = [];
      // example {id:1592304983049, title: 'Deadpool', year: 2015}
      const addMovie = (ev)=>{
          ev.preventDefault();  //to stop the form submitting

          Swal.fire(
            'Good Job',
            'Added Successfully!'
          )

          let movie = {
              id: Date.now(),
              title: document.getElementById('title').value,
              year: document.getElementById('yr').value
         }

          movies.push(movie);
          document.forms[0].reset(); // to clear the form for the next entries
          document.querySelector('form').reset();

          //for display purposes only
          console.warn('added' , {movies} );
          let pre = document.querySelector('#msg pre');
          pre.textContent = '\n' + JSON.stringify(movies, '\t', 2);

          //saving to localStorage
          localStorage.setItem('MyMovieList', JSON.stringify(movies) );
        }
          document.addEventListener('DOMContentLoaded', ()=>{
          document.getElementById('btn').addEventListener('click', addMovie);
      });
      
  </script>

    <!--jquery script and Js Tags-->
  <script
  src="https://code.jquery.com/jquery-3.5.1.min.js"
  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
  crossorigin="anonymous"></script>
  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  <script src="js/main.js"></script>
  <script>
  
    var today = new Date();
    
    var date = today.getFullYear()+'-'+(today.getMonth()+1)+'-'+today.getDate();
    var time = today.getHours() + ":" + today.getMinutes() + ":" + today.getSeconds();
    var dateTime = date+' '+time;
    
    document.getElementById("p2").innerHTML = date;
    document.getElementById("p1").innerHTML = time;

    </script>
  </body>
</html>